import{D as S,j as $,u as A,o as m,c as M,w as d,a as e,b as s,g as u,h as i,L as B,q as f,e as _,n as c,f as y,t as v,p as N,P as q,F as z,i as L,s as H}from"./app.f7f32b19.js";import{_ as T}from"./AdminLayout.e0c40caf.js";import{_ as x}from"./PrimaryButton.1b85d9b1.js";import{_ as h}from"./SecondaryButton.e7394f44.js";import{_ as g,a as p}from"./TextInput.b6868166.js";import{_ as b}from"./InputLabel.93de06d2.js";import{E as U,S as E,a as I}from"./tiptap-starter-kit.esm.f722c421.js";import{_ as D}from"./ActionMessage.beec532b.js";import{_ as J}from"./DangerButton.b94a4366.js";import"./Banner.f30108ad.js";const O={class:"max-w-4xl mx-auto flex justify-between"},F={class:"max-w-4xl mx-auto"},P={class:"bg-white p-4 shadow rounded-lg mt-5"},K=["onSubmit"],R={class:"grid md:grid-cols-2 gap-6"},Z={class:"grid md:grid-cols-3 gap-6 mt-4"},G={class:"grid md:grid-cols-2 gap-6 mt-4"},Q={class:"mt-4"},W={key:0,class:"flex items-center mt-4"},X=["disabled"],Y=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 cursor-pointer",viewBox:"0 0 512 512"},[e("title",null,"Arrow Undo"),e("path",{d:"M240 424v-96c116.4 0 159.39 33.76 208 96 0-119.23-39.57-240-208-240V88L64 256z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"})],-1),ee=[Y],te=["disabled"],oe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 cursor-pointer",viewBox:"0 0 512 512"},[e("title",null,"Arrow Redo"),e("path",{d:"M448 256L272 88v96C103.57 184 64 304.77 64 424c48.61-62.24 91.6-96 208-96v96z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"})],-1),se=[oe],le=["disabled"],ne=e("strong",null,"B",-1),ie=[ne],ae=["disabled"],re=e("i",null,"I",-1),de=[re],ce=["disabled"],ue=e("s",null,"S",-1),me=[ue],pe=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})],-1),be=[pe],_e=e("svg",{class:"h-5 w-5",stroke:"currentColor",viewBox:"0 0 18 18"},[e("line",{class:"ql-stroke",x1:"7",x2:"15",y1:"4",y2:"4"}),e("line",{class:"ql-stroke",x1:"7",x2:"15",y1:"9",y2:"9"}),e("line",{class:"ql-stroke",x1:"7",x2:"15",y1:"14",y2:"14"}),e("line",{class:"ql-stroke ql-thin",x1:"2.5",x2:"4.5",y1:"5.5",y2:"5.5"}),e("path",{class:"ql-fill",d:"M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"}),e("path",{class:"ql-stroke ql-thin",d:"M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"}),e("path",{class:"ql-stroke ql-thin",d:"M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"})],-1),ge=[_e],ye={class:"mt-3 editable"},fe={class:"flex items-center mt-4"},ve={id:"company-section",class:"bg-white p-4 shadow rounded-lg mt-8"},he={class:"flex items-center justify-between"},we={key:0},xe={key:0},ke=["onSubmit"],Ce={class:"mt-4"},je={class:"mt-5"},Ve=["onSubmit"],Se=e("label",{for:"voice-search",class:"sr-only"},"Search",-1),$e={class:"relative w-full"},Ae=e("div",{class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),Me=e("button",{type:"submit",class:"inline-flex items-center py-2.5 px-3 ml-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[e("svg",{class:"mr-2 -ml-1 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})]),u(" Search ")],-1),Be={key:1,class:"mt-5"},Oe={__name:"Edit",props:{job:Object},setup(w){const a=w,t=S({editor:null,count:0,companies:null,creatingCompany:!1,searchText:"",newCompanyName:null});$(()=>{let r;try{r=JSON.parse(a.job.description)}catch{r=a.job.description}t.editor=new U({extensions:[E],content:r})});const l=A({_method:"PUT",company_slug:null,title:a.job.title,company_name:a.job.company_name,description:a.job.description,location:a.job.location,salary_min:a.job.salary_min,salary_max:a.job.salary_max,job_type:a.job.job_type,status:a.job.status}),k=()=>{l.description=t.editor.getJSON(),l.post(route("admin.job-import.update",a.job.id))},C=()=>{H.Inertia.delete(route("admin.job-import.destroy",a.job.id))},j=()=>{axios.post(route("admin.company.store"),{company_name:t.newCompanyName}).then(r=>{t.creatingCompany=!1,t.newCompanyName=null,l.company_slug=r.data.slug})},V=()=>{axios.get("/admin/company?search="+t.searchText).then(r=>{r.data.data.length?t.companies=r.data.data:t.companies=null})};return(r,o)=>(m(),M(T,{title:"Job Import Edit"},{default:d(()=>[e("section",O,[s(i(B),{href:r.route("admin.job-import.index")},{default:d(()=>[s(h,null,{default:d(()=>[u("Back")]),_:1})]),_:1},8,["href"]),e("div",null,[s(J,{onClick:C},{default:d(()=>[u("Delete")]),_:1})])]),e("section",F,[e("section",P,[e("form",{onSubmit:f(k,["prevent"]),class:"mt-8"},[e("section",R,[e("div",null,[s(b,{for:"title",value:"Title"}),s(g,{id:"title",type:"text",class:"mt-1 block w-full",modelValue:i(l).title,"onUpdate:modelValue":o[0]||(o[0]=n=>i(l).title=n),required:"",autofocus:""},null,8,["modelValue"]),s(p,{message:i(l).errors.title,class:"mt-2"},null,8,["message"])])]),e("section",Z,[e("div",null,[s(b,{for:"location",value:"Location"}),s(g,{id:"location",type:"text",class:"mt-1 block w-full",modelValue:i(l).location,"onUpdate:modelValue":o[1]||(o[1]=n=>i(l).location=n),autofocus:""},null,8,["modelValue"]),s(p,{message:i(l).errors.location,class:"mt-2"},null,8,["message"])]),e("div",null,[s(b,{for:"salary_min",value:"Salary Min"}),s(g,{id:"salary_min",type:"text",class:"mt-1 block w-full",modelValue:i(l).salary_min,"onUpdate:modelValue":o[2]||(o[2]=n=>i(l).salary_min=n)},null,8,["modelValue"]),s(p,{message:i(l).errors.salary_min,class:"mt-2"},null,8,["message"])]),e("div",null,[s(b,{for:"salary_max",value:"Salary Max"}),s(g,{id:"salary_max",type:"text",class:"mt-1 block w-full",modelValue:i(l).salary_max,"onUpdate:modelValue":o[3]||(o[3]=n=>i(l).salary_max=n)},null,8,["modelValue"]),s(p,{message:i(l).errors.salary_max,class:"mt-2"},null,8,["message"])])]),e("section",G,[e("div",null,[s(b,{for:"job_type",value:"Job Type"}),s(g,{id:"job_type",type:"text",class:"mt-1 block w-full",modelValue:i(l).job_type,"onUpdate:modelValue":o[4]||(o[4]=n=>i(l).job_type=n),required:"",autofocus:""},null,8,["modelValue"]),s(p,{message:i(l).errors.job_type,class:"mt-2"},null,8,["message"])])]),e("section",Q,[s(b,{for:"body",value:"Description"}),e("section",null,[t.editor?(m(),_("div",W,[e("button",{type:"button",class:"prose-button",onClick:o[5]||(o[5]=n=>t.editor.chain().focus().undo().run()),disabled:!t.editor.can().chain().focus().undo().run()},ee,8,X),e("button",{type:"button",class:"prose-button mr-3",onClick:o[6]||(o[6]=n=>t.editor.chain().focus().redo().run()),disabled:!t.editor.can().chain().focus().redo().run()},se,8,te),e("button",{type:"button",class:c(["prose-button",{"prose-is-active":t.editor.isActive("bold")}]),onClick:o[7]||(o[7]=n=>t.editor.chain().focus().toggleBold().run()),disabled:!t.editor.can().chain().focus().toggleBold().run()},ie,10,le),e("button",{type:"button",class:c(["prose-button",{"prose-is-active":t.editor.isActive("italic")}]),onClick:o[8]||(o[8]=n=>t.editor.chain().focus().toggleItalic().run()),disabled:!t.editor.can().chain().focus().toggleItalic().run()},de,10,ae),e("button",{type:"button",class:c(["prose-button mr-3",{"prose-is-active":t.editor.isActive("strike")}]),onClick:o[9]||(o[9]=n=>t.editor.chain().focus().toggleStrike().run()),disabled:!t.editor.can().chain().focus().toggleStrike().run()},me,10,ce),e("button",{type:"button",class:c(["prose-button",{"prose-is-active":t.editor.isActive("heading",{level:1})}]),onClick:o[10]||(o[10]=n=>t.editor.chain().focus().toggleHeading({level:1}).run())}," H1 ",2),e("button",{type:"button",class:c(["prose-button",{"prose-is-active":t.editor.isActive("heading",{level:2})}]),onClick:o[11]||(o[11]=n=>t.editor.chain().focus().toggleHeading({level:2}).run())}," H2 ",2),e("button",{type:"button",class:c(["prose-button mr-3",{"prose-is-active":t.editor.isActive("heading",{level:3})}]),onClick:o[12]||(o[12]=n=>t.editor.chain().focus().toggleHeading({level:3}).run())}," H3 ",2),e("button",{type:"button",class:c(["prose-button",{"prose-is-active":t.editor.isActive("bulletList")}]),onClick:o[13]||(o[13]=n=>t.editor.chain().focus().toggleBulletList().run())},be,2),e("button",{type:"button",onClick:o[14]||(o[14]=n=>t.editor.chain().focus().toggleOrderedList().run()),class:c({"prose-is-active":t.editor.isActive("orderedList")})},ge,2)])):y("",!0),e("div",ye,[s(i(I),{editor:t.editor},null,8,["editor"])])]),s(p,{message:i(l).errors.description,class:"mt-2"},null,8,["message"])]),e("section",fe,[s(x,{class:c({"opacity-25":i(l).processing}),disabled:i(l).processing},{default:d(()=>[u(" Save ")]),_:1},8,["class","disabled"]),s(D,{on:i(l).recentlySuccessful,class:"ml-3"},{default:d(()=>[u(" Saved. ")]),_:1},8,["on"])])],40,K)]),e("section",ve,[e("div",he,[e("div",null,[e("div",null," Import Company: "+v(w.job.company_name),1),i(l).company_slug?(m(),_("div",we," Company Selected: "+v(i(l).company_slug),1)):y("",!0)]),e("div",null,[s(h,{onClick:o[15]||(o[15]=n=>{t.creatingCompany=!t.creatingCompany,t.newCompanyName=i(l).company_name})},{default:d(()=>[u(" Create Company ")]),_:1})])]),t.creatingCompany?(m(),_("div",xe,[e("form",{onSubmit:f(j,["prevent"]),class:"mt-8"},[e("section",null,[s(b,{for:"New-Company",value:"Company Name"}),s(g,{id:"New-Company",type:"text",class:"mt-1 block w-full",modelValue:t.newCompanyName,"onUpdate:modelValue":o[16]||(o[16]=n=>t.newCompanyName=n)},null,8,["modelValue"]),s(p,{message:i(l).errors.title,class:"mt-2"},null,8,["message"])]),e("section",Ce,[s(x,null,{default:d(()=>[u(" Save ")]),_:1})])],40,ke)])):y("",!0),e("div",je,[e("form",{onSubmit:f(V,["prevent"]),id:"company-search",class:"flex items-center mt-8",autocomplete:"off"},[Se,e("div",$e,[Ae,N(e("input",{"onUpdate:modelValue":o[17]||(o[17]=n=>t.searchText=n),type:"text",id:"voice-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search ..."},null,512),[[q,t.searchText]])]),Me],40,Ve)]),t.companies?(m(),_("div",Be,[(m(!0),_(z,null,L(t.companies,n=>(m(),_("div",null,[u(v(n.name)+" ",1),s(h,{onClick:Ne=>i(l).company_slug=n.slug},{default:d(()=>[u("Select")]),_:2},1032,["onClick"])]))),256))])):y("",!0)])])]),_:1}))}};export{Oe as default};
