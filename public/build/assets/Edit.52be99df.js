import{D as B,j as N,u as q,o as c,c as z,w as u,a as e,b as n,g as d,h as a,L as T,s as h,t as y,p as k,C as L,e as p,i as C,F as j,n as m,f as v,S as H,x as U}from"./app.6125cdd7.js";import{_ as E}from"./AdminLayout.37b2c752.js";import{_ as S}from"./PrimaryButton.8a00a35d.js";import{_ as w}from"./SecondaryButton.4dda5bb8.js";import{_ as f}from"./TextInput.b7bef9b4.js";import{_}from"./InputError.8e4ac36b.js";import{_ as b}from"./InputLabel.d89af85a.js";import{E as I,S as D,a as O}from"./tiptap-starter-kit.esm.e489ba1c.js";import{_ as J}from"./ActionMessage.4c88bb35.js";import{_ as F}from"./DangerButton.84fd53ed.js";import"./Banner.8d46cb82.js";const K={class:"max-w-4xl mx-auto flex justify-between"},P={class:"max-w-4xl mx-auto"},R={class:"bg-white p-4 shadow rounded-lg mt-5"},Z=["onSubmit"],G={class:"grid md:grid-cols-2 gap-6"},Q={class:"grid md:grid-cols-3 gap-6 mt-4"},W={class:"grid md:grid-cols-2 gap-6 mt-4"},X=["value"],Y={class:"mt-4"},ee={key:0,class:"flex items-center mt-4"},te=["disabled"],oe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 cursor-pointer",viewBox:"0 0 512 512"},[e("title",null,"Arrow Undo"),e("path",{d:"M240 424v-96c116.4 0 159.39 33.76 208 96 0-119.23-39.57-240-208-240V88L64 256z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"})],-1),se=[oe],le=["disabled"],ne=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 cursor-pointer",viewBox:"0 0 512 512"},[e("title",null,"Arrow Redo"),e("path",{d:"M448 256L272 88v96C103.57 184 64 304.77 64 424c48.61-62.24 91.6-96 208-96v96z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"})],-1),ae=[ne],ie=["disabled"],re=e("strong",null,"B",-1),de=[re],ce=["disabled"],ue=e("i",null,"I",-1),me=[ue],pe=["disabled"],_e=e("s",null,"S",-1),be=[_e],ge=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})],-1),ye=[ge],fe=e("svg",{class:"h-5 w-5",stroke:"currentColor",viewBox:"0 0 18 18"},[e("line",{class:"ql-stroke",x1:"7",x2:"15",y1:"4",y2:"4"}),e("line",{class:"ql-stroke",x1:"7",x2:"15",y1:"9",y2:"9"}),e("line",{class:"ql-stroke",x1:"7",x2:"15",y1:"14",y2:"14"}),e("line",{class:"ql-stroke ql-thin",x1:"2.5",x2:"4.5",y1:"5.5",y2:"5.5"}),e("path",{class:"ql-fill",d:"M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"}),e("path",{class:"ql-stroke ql-thin",d:"M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"}),e("path",{class:"ql-stroke ql-thin",d:"M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"})],-1),ve=[fe],he={class:"mt-3 editable"},we={class:"flex items-center mt-4"},xe={id:"company-section",class:"bg-white p-4 shadow rounded-lg mt-8"},ke={class:"flex items-center justify-between"},Ce=["href"],je={key:0},Se=["href"],Ve={key:0},$e=["onSubmit"],Me={class:"mt-4"},Ae={class:"mt-5"},Be=["onSubmit"],Ne=e("label",{for:"voice-search",class:"sr-only"},"Search",-1),qe={class:"relative w-full"},ze=e("div",{class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),Te=e("button",{type:"submit",class:"inline-flex items-center py-2.5 px-3 ml-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[e("svg",{class:"mr-2 -ml-1 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})]),d(" Search ")],-1),Le={key:1,class:"mt-5"},Ge={__name:"Edit",props:{job:Object,jobTypes:Object},setup(g){const i=g,t=B({editor:null,count:0,companies:null,creatingCompany:!1,searchText:"",newCompanyName:null});N(()=>{let r;try{r=JSON.parse(i.job.description)}catch{r=i.job.description}t.editor=new I({extensions:[D],content:r})});const s=q({_method:"PUT",company_slug:null,title:i.job.title,company_name:i.job.company_name,description:i.job.description,location:i.job.location,salary_min:i.job.salary_min,salary_max:i.job.salary_max,job_type:i.job.job_type,status:i.job.status}),V=()=>{s.salary_min=s.salary_min.replace(",",""),s.salary_max=s.salary_max.replace(",",""),s.description=t.editor.getJSON(),s.post(route("admin.job-import.update",i.job.id))},$=()=>{U.Inertia.delete(route("admin.job-import.destroy",i.job.id))},M=()=>{axios.post(route("admin.company.store"),{company_name:t.newCompanyName}).then(r=>{t.creatingCompany=!1,t.newCompanyName=null,s.company_slug=r.data.slug})},A=()=>{axios.get("/admin/company?search="+t.searchText).then(r=>{r.data.data.length?t.companies=r.data.data:t.companies=null})};return(r,o)=>(c(),z(E,{title:"Job Import Edit"},{default:u(()=>[e("section",K,[n(a(T),{href:r.route("admin.job-import.index")},{default:u(()=>[n(w,null,{default:u(()=>[d("Back")]),_:1})]),_:1},8,["href"]),e("div",null,[n(F,{onClick:$},{default:u(()=>[d("Delete")]),_:1})])]),e("section",P,[e("section",R,[e("form",{onSubmit:h(V,["prevent"]),class:"mt-8"},[e("section",G,[e("div",null,[n(b,{for:"title",value:"Title"}),n(f,{id:"title",type:"text",class:"mt-1 block w-full",modelValue:a(s).title,"onUpdate:modelValue":o[0]||(o[0]=l=>a(s).title=l),required:"",autofocus:""},null,8,["modelValue"]),n(_,{message:a(s).errors.title,class:"mt-2"},null,8,["message"])])]),e("section",Q,[e("div",null,[n(b,{for:"location",value:"Location"}),n(f,{id:"location",type:"text",class:"mt-1 block w-full",modelValue:a(s).location,"onUpdate:modelValue":o[1]||(o[1]=l=>a(s).location=l),autofocus:""},null,8,["modelValue"]),n(_,{message:a(s).errors.location,class:"mt-2"},null,8,["message"])]),e("div",null,[n(b,{for:"salary_min",value:"Salary Min"}),n(f,{id:"salary_min",type:"text",class:"mt-1 block w-full",modelValue:a(s).salary_min,"onUpdate:modelValue":o[2]||(o[2]=l=>a(s).salary_min=l)},null,8,["modelValue"]),n(_,{message:a(s).errors.salary_min,class:"mt-2"},null,8,["message"])]),e("div",null,[n(b,{for:"salary_max",value:"Salary Max"}),n(f,{id:"salary_max",type:"text",class:"mt-1 block w-full",modelValue:a(s).salary_max,"onUpdate:modelValue":o[3]||(o[3]=l=>a(s).salary_max=l)},null,8,["modelValue"]),n(_,{message:a(s).errors.salary_max,class:"mt-2"},null,8,["message"])])]),e("section",W,[e("div",null,[n(b,{for:"type",value:"Job Type",required:!0}),e("div",null,y(g.job.job_type),1),k(e("select",{name:"type",class:"form-input pr-6",style:{"min-width":"150px"},"onUpdate:modelValue":o[4]||(o[4]=l=>a(s).job_type=l)},[(c(!0),p(j,null,C(g.jobTypes,(l,x,He)=>(c(),p("option",{value:x},y(l),9,X))),256))],512),[[L,a(s).job_type]]),n(_,{message:a(s).errors.job_type,class:"mt-2"},null,8,["message"])])]),e("section",Y,[n(b,{for:"body",value:"Description"}),e("section",null,[t.editor?(c(),p("div",ee,[e("button",{type:"button",class:"prose-button",onClick:o[5]||(o[5]=l=>t.editor.chain().focus().undo().run()),disabled:!t.editor.can().chain().focus().undo().run()},se,8,te),e("button",{type:"button",class:"prose-button mr-3",onClick:o[6]||(o[6]=l=>t.editor.chain().focus().redo().run()),disabled:!t.editor.can().chain().focus().redo().run()},ae,8,le),e("button",{type:"button",class:m(["prose-button",{"prose-is-active":t.editor.isActive("bold")}]),onClick:o[7]||(o[7]=l=>t.editor.chain().focus().toggleBold().run()),disabled:!t.editor.can().chain().focus().toggleBold().run()},de,10,ie),e("button",{type:"button",class:m(["prose-button",{"prose-is-active":t.editor.isActive("italic")}]),onClick:o[8]||(o[8]=l=>t.editor.chain().focus().toggleItalic().run()),disabled:!t.editor.can().chain().focus().toggleItalic().run()},me,10,ce),e("button",{type:"button",class:m(["prose-button mr-3",{"prose-is-active":t.editor.isActive("strike")}]),onClick:o[9]||(o[9]=l=>t.editor.chain().focus().toggleStrike().run()),disabled:!t.editor.can().chain().focus().toggleStrike().run()},be,10,pe),e("button",{type:"button",class:m(["prose-button",{"prose-is-active":t.editor.isActive("heading",{level:1})}]),onClick:o[10]||(o[10]=l=>t.editor.chain().focus().toggleHeading({level:1}).run())}," H1 ",2),e("button",{type:"button",class:m(["prose-button",{"prose-is-active":t.editor.isActive("heading",{level:2})}]),onClick:o[11]||(o[11]=l=>t.editor.chain().focus().toggleHeading({level:2}).run())}," H2 ",2),e("button",{type:"button",class:m(["prose-button mr-3",{"prose-is-active":t.editor.isActive("heading",{level:3})}]),onClick:o[12]||(o[12]=l=>t.editor.chain().focus().toggleHeading({level:3}).run())}," H3 ",2),e("button",{type:"button",class:m(["prose-button",{"prose-is-active":t.editor.isActive("bulletList")}]),onClick:o[13]||(o[13]=l=>t.editor.chain().focus().toggleBulletList().run())},ye,2),e("button",{type:"button",onClick:o[14]||(o[14]=l=>t.editor.chain().focus().toggleOrderedList().run()),class:m({"prose-is-active":t.editor.isActive("orderedList")})},ve,2)])):v("",!0),e("div",he,[n(a(O),{editor:t.editor},null,8,["editor"])])]),n(_,{message:a(s).errors.description,class:"mt-2"},null,8,["message"])]),e("section",we,[n(S,{class:m({"opacity-25":a(s).processing}),disabled:a(s).processing},{default:u(()=>[d(" Save ")]),_:1},8,["class","disabled"]),n(J,{on:a(s).recentlySuccessful,class:"ml-3"},{default:u(()=>[d(" Saved. ")]),_:1},8,["on"])])],40,Z)]),e("section",xe,[e("div",ke,[e("div",null,[e("div",null,[d(" Import Company: "),e("a",{target:"_blank",class:"link",href:"https://www.google.com/search?q=twitter "+g.job.company_name.replace(" ","+")},y(g.job.company_name),9,Ce)]),a(s).company_slug?(c(),p("div",je," Company Selected: "+y(a(s).company_slug),1)):v("",!0)]),e("div",null,[e("a",{target:"_blank",href:r.route("admin.company.create",{name:a(s).company_name})},[n(w,null,{default:u(()=>[d("Create Company")]),_:1})],8,Se)])]),t.creatingCompany?(c(),p("div",Ve,[e("form",{onSubmit:h(M,["prevent"]),class:"mt-8"},[e("section",null,[n(b,{for:"New-Company",value:"Company Name"}),n(f,{id:"New-Company",type:"text",class:"mt-1 block w-full",modelValue:t.newCompanyName,"onUpdate:modelValue":o[15]||(o[15]=l=>t.newCompanyName=l)},null,8,["modelValue"]),n(_,{message:a(s).errors.title,class:"mt-2"},null,8,["message"])]),e("section",Me,[n(S,null,{default:u(()=>[d(" Save ")]),_:1})])],40,$e)])):v("",!0),e("div",Ae,[e("form",{onSubmit:h(A,["prevent"]),id:"company-search",class:"flex items-center mt-8",autocomplete:"off"},[Ne,e("div",qe,[ze,k(e("input",{"onUpdate:modelValue":o[16]||(o[16]=l=>t.searchText=l),type:"text",id:"voice-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search ..."},null,512),[[H,t.searchText]])]),Te],40,Be)]),t.companies?(c(),p("div",Le,[(c(!0),p(j,null,C(t.companies,l=>(c(),p("div",null,[d(y(l.name)+" ",1),n(w,{onClick:x=>a(s).company_slug=l.slug},{default:u(()=>[d("Select")]),_:2},1032,["onClick"])]))),256))])):v("",!0)])])]),_:1}))}};export{Ge as default};
