import{P as rr,a as nr,E as ir,i as kr,b as Ir,p as or,c as Nr}from"./tiptap-starter-kit.esm.27a94095.js";import{G as We,D as Vr,I as Wr,d as wt,j as ar,J as Ot,K as he,M as Fr,N as _r,O as Ur,h as qr,A as Kr,P as zr}from"./app.3247dd9a.js";var N="top",q="bottom",K="right",V="left",xt="auto",Fe=[N,q,K,V],Ee="start",Ne="end",Xr="clippingParents",sr="viewport",$e="popper",Yr="reference",Mt=Fe.reduce(function(e,t){return e.concat([t+"-"+Ee,t+"-"+Ne])},[]),ur=[].concat(Fe,[xt]).reduce(function(e,t){return e.concat([t,t+"-"+Ee,t+"-"+Ne])},[]),Gr="beforeRead",Jr="read",Qr="afterRead",Zr="beforeMain",en="main",tn="afterMain",rn="beforeWrite",nn="write",on="afterWrite",an=[Gr,Jr,Qr,Zr,en,tn,rn,nn,on];function te(e){return e?(e.nodeName||"").toLowerCase():null}function z(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ge(e){var t=z(e).Element;return e instanceof t||e instanceof Element}function U(e){var t=z(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Tt(e){if(typeof ShadowRoot>"u")return!1;var t=z(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function sn(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},u=t.elements[r];!U(u)||!te(u)||(Object.assign(u.style,n),Object.keys(i).forEach(function(l){var a=i[l];a===!1?u.removeAttribute(l):u.setAttribute(l,a===!0?"":a)}))})}function un(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],u=t.attributes[n]||{},l=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),a=l.reduce(function(s,f){return s[f]="",s},{});!U(i)||!te(i)||(Object.assign(i.style,a),Object.keys(u).forEach(function(s){i.removeAttribute(s)}))})}}const lr={name:"applyStyles",enabled:!0,phase:"write",fn:sn,effect:un,requires:["computeStyles"]};function ee(e){return e.split("-")[0]}var me=Math.max,ot=Math.min,Ae=Math.round;function mt(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function cr(){return!/^((?!chrome|android).)*safari/i.test(mt())}function Se(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,u=1;t&&U(e)&&(i=e.offsetWidth>0&&Ae(n.width)/e.offsetWidth||1,u=e.offsetHeight>0&&Ae(n.height)/e.offsetHeight||1);var l=ge(e)?z(e):window,a=l.visualViewport,s=!cr()&&r,f=(n.left+(s&&a?a.offsetLeft:0))/i,p=(n.top+(s&&a?a.offsetTop:0))/u,m=n.width/i,y=n.height/u;return{width:m,height:y,top:p,right:f+m,bottom:p+y,left:f,x:f,y:p}}function Et(e){var t=Se(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function pr(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Tt(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ae(e){return z(e).getComputedStyle(e)}function ln(e){return["table","td","th"].indexOf(te(e))>=0}function le(e){return((ge(e)?e.ownerDocument:e.document)||window.document).documentElement}function st(e){return te(e)==="html"?e:e.assignedSlot||e.parentNode||(Tt(e)?e.host:null)||le(e)}function Pt(e){return!U(e)||ae(e).position==="fixed"?null:e.offsetParent}function cn(e){var t=/firefox/i.test(mt()),r=/Trident/i.test(mt());if(r&&U(e)){var n=ae(e);if(n.position==="fixed")return null}var i=st(e);for(Tt(i)&&(i=i.host);U(i)&&["html","body"].indexOf(te(i))<0;){var u=ae(i);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||t&&u.willChange==="filter"||t&&u.filter&&u.filter!=="none")return i;i=i.parentNode}return null}function _e(e){for(var t=z(e),r=Pt(e);r&&ln(r)&&ae(r).position==="static";)r=Pt(r);return r&&(te(r)==="html"||te(r)==="body"&&ae(r).position==="static")?t:r||cn(e)||t}function At(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Be(e,t,r){return me(e,ot(t,r))}function pn(e,t,r){var n=Be(e,t,r);return n>r?r:n}function fr(){return{top:0,right:0,bottom:0,left:0}}function dr(e){return Object.assign({},fr(),e)}function vr(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var fn=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,dr(typeof t!="number"?t:vr(t,Fe))};function dn(e){var t,r=e.state,n=e.name,i=e.options,u=r.elements.arrow,l=r.modifiersData.popperOffsets,a=ee(r.placement),s=At(a),f=[V,K].indexOf(a)>=0,p=f?"height":"width";if(!(!u||!l)){var m=fn(i.padding,r),y=Et(u),h=s==="y"?N:V,x=s==="y"?q:K,b=r.rects.reference[p]+r.rects.reference[s]-l[s]-r.rects.popper[p],w=l[s]-r.rects.reference[s],T=_e(u),A=T?s==="y"?T.clientHeight||0:T.clientWidth||0:0,D=b/2-w/2,o=m[h],O=A-y[p]-m[x],d=A/2-y[p]/2+D,E=Be(o,d,O),L=s;r.modifiersData[n]=(t={},t[L]=E,t.centerOffset=E-d,t)}}function vn(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!pr(t.elements.popper,i)||(t.elements.arrow=i))}const hn={name:"arrow",enabled:!0,phase:"main",fn:dn,effect:vn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ce(e){return e.split("-")[1]}var mn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gn(e){var t=e.x,r=e.y,n=window,i=n.devicePixelRatio||1;return{x:Ae(t*i)/i||0,y:Ae(r*i)/i||0}}function Rt(e){var t,r=e.popper,n=e.popperRect,i=e.placement,u=e.variation,l=e.offsets,a=e.position,s=e.gpuAcceleration,f=e.adaptive,p=e.roundOffsets,m=e.isFixed,y=l.x,h=y===void 0?0:y,x=l.y,b=x===void 0?0:x,w=typeof p=="function"?p({x:h,y:b}):{x:h,y:b};h=w.x,b=w.y;var T=l.hasOwnProperty("x"),A=l.hasOwnProperty("y"),D=V,o=N,O=window;if(f){var d=_e(r),E="clientHeight",L="clientWidth";if(d===z(r)&&(d=le(r),ae(d).position!=="static"&&a==="absolute"&&(E="scrollHeight",L="scrollWidth")),d=d,i===N||(i===V||i===K)&&u===Ne){o=q;var j=m&&d===O&&O.visualViewport?O.visualViewport.height:d[E];b-=j-n.height,b*=s?1:-1}if(i===V||(i===N||i===q)&&u===Ne){D=K;var P=m&&d===O&&O.visualViewport?O.visualViewport.width:d[L];h-=P-n.width,h*=s?1:-1}}var $=Object.assign({position:a},f&&mn),R=p===!0?gn({x:h,y:b}):{x:h,y:b};if(h=R.x,b=R.y,s){var M;return Object.assign({},$,(M={},M[o]=A?"0":"",M[D]=T?"0":"",M.transform=(O.devicePixelRatio||1)<=1?"translate("+h+"px, "+b+"px)":"translate3d("+h+"px, "+b+"px, 0)",M))}return Object.assign({},$,(t={},t[o]=A?b+"px":"",t[D]=T?h+"px":"",t.transform="",t))}function yn(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,u=r.adaptive,l=u===void 0?!0:u,a=r.roundOffsets,s=a===void 0?!0:a,f={placement:ee(t.placement),variation:Ce(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Rt(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:s})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Rt(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const bn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yn,data:{}};var tt={passive:!0};function wn(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,u=i===void 0?!0:i,l=n.resize,a=l===void 0?!0:l,s=z(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return u&&f.forEach(function(p){p.addEventListener("scroll",r.update,tt)}),a&&s.addEventListener("resize",r.update,tt),function(){u&&f.forEach(function(p){p.removeEventListener("scroll",r.update,tt)}),a&&s.removeEventListener("resize",r.update,tt)}}const On={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wn,data:{}};var xn={left:"right",right:"left",bottom:"top",top:"bottom"};function it(e){return e.replace(/left|right|bottom|top/g,function(t){return xn[t]})}var Tn={start:"end",end:"start"};function $t(e){return e.replace(/start|end/g,function(t){return Tn[t]})}function St(e){var t=z(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Ct(e){return Se(le(e)).left+St(e).scrollLeft}function En(e,t){var r=z(e),n=le(e),i=r.visualViewport,u=n.clientWidth,l=n.clientHeight,a=0,s=0;if(i){u=i.width,l=i.height;var f=cr();(f||!f&&t==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:u,height:l,x:a+Ct(e),y:s}}function An(e){var t,r=le(e),n=St(e),i=(t=e.ownerDocument)==null?void 0:t.body,u=me(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=me(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+Ct(e),s=-n.scrollTop;return ae(i||r).direction==="rtl"&&(a+=me(r.clientWidth,i?i.clientWidth:0)-u),{width:u,height:l,x:a,y:s}}function Dt(e){var t=ae(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function hr(e){return["html","body","#document"].indexOf(te(e))>=0?e.ownerDocument.body:U(e)&&Dt(e)?e:hr(st(e))}function ke(e,t){var r;t===void 0&&(t=[]);var n=hr(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),u=z(n),l=i?[u].concat(u.visualViewport||[],Dt(n)?n:[]):n,a=t.concat(l);return i?a:a.concat(ke(st(l)))}function gt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Sn(e,t){var r=Se(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Ht(e,t,r){return t===sr?gt(En(e,r)):ge(t)?Sn(t,r):gt(An(le(e)))}function Cn(e){var t=ke(st(e)),r=["absolute","fixed"].indexOf(ae(e).position)>=0,n=r&&U(e)?_e(e):e;return ge(n)?t.filter(function(i){return ge(i)&&pr(i,n)&&te(i)!=="body"}):[]}function Dn(e,t,r,n){var i=t==="clippingParents"?Cn(e):[].concat(t),u=[].concat(i,[r]),l=u[0],a=u.reduce(function(s,f){var p=Ht(e,f,n);return s.top=me(p.top,s.top),s.right=ot(p.right,s.right),s.bottom=ot(p.bottom,s.bottom),s.left=me(p.left,s.left),s},Ht(e,l,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function mr(e){var t=e.reference,r=e.element,n=e.placement,i=n?ee(n):null,u=n?Ce(n):null,l=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,s;switch(i){case N:s={x:l,y:t.y-r.height};break;case q:s={x:l,y:t.y+t.height};break;case K:s={x:t.x+t.width,y:a};break;case V:s={x:t.x-r.width,y:a};break;default:s={x:t.x,y:t.y}}var f=i?At(i):null;if(f!=null){var p=f==="y"?"height":"width";switch(u){case Ee:s[f]=s[f]-(t[p]/2-r[p]/2);break;case Ne:s[f]=s[f]+(t[p]/2-r[p]/2);break}}return s}function Ve(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,u=r.strategy,l=u===void 0?e.strategy:u,a=r.boundary,s=a===void 0?Xr:a,f=r.rootBoundary,p=f===void 0?sr:f,m=r.elementContext,y=m===void 0?$e:m,h=r.altBoundary,x=h===void 0?!1:h,b=r.padding,w=b===void 0?0:b,T=dr(typeof w!="number"?w:vr(w,Fe)),A=y===$e?Yr:$e,D=e.rects.popper,o=e.elements[x?A:y],O=Dn(ge(o)?o:o.contextElement||le(e.elements.popper),s,p,l),d=Se(e.elements.reference),E=mr({reference:d,element:D,strategy:"absolute",placement:i}),L=gt(Object.assign({},D,E)),j=y===$e?L:d,P={top:O.top-j.top+T.top,bottom:j.bottom-O.bottom+T.bottom,left:O.left-j.left+T.left,right:j.right-O.right+T.right},$=e.modifiersData.offset;if(y===$e&&$){var R=$[i];Object.keys(P).forEach(function(M){var W=[K,q].indexOf(M)>=0?1:-1,F=[N,q].indexOf(M)>=0?"y":"x";P[M]+=R[F]*W})}return P}function Ln(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,u=r.rootBoundary,l=r.padding,a=r.flipVariations,s=r.allowedAutoPlacements,f=s===void 0?ur:s,p=Ce(n),m=p?a?Mt:Mt.filter(function(x){return Ce(x)===p}):Fe,y=m.filter(function(x){return f.indexOf(x)>=0});y.length===0&&(y=m);var h=y.reduce(function(x,b){return x[b]=Ve(e,{placement:b,boundary:i,rootBoundary:u,padding:l})[ee(b)],x},{});return Object.keys(h).sort(function(x,b){return h[x]-h[b]})}function jn(e){if(ee(e)===xt)return[];var t=it(e);return[$t(e),t,$t(t)]}function Mn(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,u=i===void 0?!0:i,l=r.altAxis,a=l===void 0?!0:l,s=r.fallbackPlacements,f=r.padding,p=r.boundary,m=r.rootBoundary,y=r.altBoundary,h=r.flipVariations,x=h===void 0?!0:h,b=r.allowedAutoPlacements,w=t.options.placement,T=ee(w),A=T===w,D=s||(A||!x?[it(w)]:jn(w)),o=[w].concat(D).reduce(function(re,X){return re.concat(ee(X)===xt?Ln(t,{placement:X,boundary:p,rootBoundary:m,padding:f,flipVariations:x,allowedAutoPlacements:b}):X)},[]),O=t.rects.reference,d=t.rects.popper,E=new Map,L=!0,j=o[0],P=0;P<o.length;P++){var $=o[P],R=ee($),M=Ce($)===Ee,W=[N,q].indexOf(R)>=0,F=W?"width":"height",B=Ve(t,{placement:$,boundary:p,rootBoundary:m,altBoundary:y,padding:f}),k=W?M?K:V:M?q:N;O[F]>d[F]&&(k=it(k));var H=it(k),G=[];if(u&&G.push(B[R]<=0),a&&G.push(B[k]<=0,B[H]<=0),G.every(function(re){return re})){j=$,L=!1;break}E.set($,G)}if(L)for(var J=x?3:1,ce=function(X){var ne=o.find(function(ye){var ie=E.get(ye);if(ie)return ie.slice(0,X).every(function(be){return be})});if(ne)return j=ne,"break"},Q=J;Q>0;Q--){var pe=ce(Q);if(pe==="break")break}t.placement!==j&&(t.modifiersData[n]._skip=!0,t.placement=j,t.reset=!0)}}const Pn={name:"flip",enabled:!0,phase:"main",fn:Mn,requiresIfExists:["offset"],data:{_skip:!1}};function Bt(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function kt(e){return[N,K,q,V].some(function(t){return e[t]>=0})}function Rn(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,u=t.modifiersData.preventOverflow,l=Ve(t,{elementContext:"reference"}),a=Ve(t,{altBoundary:!0}),s=Bt(l,n),f=Bt(a,i,u),p=kt(s),m=kt(f);t.modifiersData[r]={referenceClippingOffsets:s,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}const $n={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Rn};function Hn(e,t,r){var n=ee(e),i=[V,N].indexOf(n)>=0?-1:1,u=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,l=u[0],a=u[1];return l=l||0,a=(a||0)*i,[V,K].indexOf(n)>=0?{x:a,y:l}:{x:l,y:a}}function Bn(e){var t=e.state,r=e.options,n=e.name,i=r.offset,u=i===void 0?[0,0]:i,l=ur.reduce(function(p,m){return p[m]=Hn(m,t.rects,u),p},{}),a=l[t.placement],s=a.x,f=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=f),t.modifiersData[n]=l}const kn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Bn};function In(e){var t=e.state,r=e.name;t.modifiersData[r]=mr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Nn={name:"popperOffsets",enabled:!0,phase:"read",fn:In,data:{}};function Vn(e){return e==="x"?"y":"x"}function Wn(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,u=i===void 0?!0:i,l=r.altAxis,a=l===void 0?!1:l,s=r.boundary,f=r.rootBoundary,p=r.altBoundary,m=r.padding,y=r.tether,h=y===void 0?!0:y,x=r.tetherOffset,b=x===void 0?0:x,w=Ve(t,{boundary:s,rootBoundary:f,padding:m,altBoundary:p}),T=ee(t.placement),A=Ce(t.placement),D=!A,o=At(T),O=Vn(o),d=t.modifiersData.popperOffsets,E=t.rects.reference,L=t.rects.popper,j=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,P=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),$=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(!!d){if(u){var M,W=o==="y"?N:V,F=o==="y"?q:K,B=o==="y"?"height":"width",k=d[o],H=k+w[W],G=k-w[F],J=h?-L[B]/2:0,ce=A===Ee?E[B]:L[B],Q=A===Ee?-L[B]:-E[B],pe=t.elements.arrow,re=h&&pe?Et(pe):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:fr(),ne=X[W],ye=X[F],ie=Be(0,E[B],re[B]),be=D?E[B]/2-J-ie-ne-P.mainAxis:ce-ie-ne-P.mainAxis,se=D?-E[B]/2+J+ie+ye+P.mainAxis:Q+ie+ye+P.mainAxis,we=t.elements.arrow&&_e(t.elements.arrow),Ue=we?o==="y"?we.clientTop||0:we.clientLeft||0:0,Le=(M=$==null?void 0:$[o])!=null?M:0,qe=k+be-Le-Ue,Ke=k+se-Le,je=Be(h?ot(H,qe):H,k,h?me(G,Ke):G);d[o]=je,R[o]=je-k}if(a){var Me,ze=o==="x"?N:V,Xe=o==="x"?q:K,oe=d[O],ue=O==="y"?"height":"width",Pe=oe+w[ze],fe=oe-w[Xe],Re=[N,V].indexOf(T)!==-1,Ye=(Me=$==null?void 0:$[O])!=null?Me:0,Ge=Re?Pe:oe-E[ue]-L[ue]-Ye+P.altAxis,Je=Re?oe+E[ue]+L[ue]-Ye-P.altAxis:fe,Qe=h&&Re?pn(Ge,oe,Je):Be(h?Ge:Pe,oe,h?Je:fe);d[O]=Qe,R[O]=Qe-oe}t.modifiersData[n]=R}}const Fn={name:"preventOverflow",enabled:!0,phase:"main",fn:Wn,requiresIfExists:["offset"]};function _n(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Un(e){return e===z(e)||!U(e)?St(e):_n(e)}function qn(e){var t=e.getBoundingClientRect(),r=Ae(t.width)/e.offsetWidth||1,n=Ae(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Kn(e,t,r){r===void 0&&(r=!1);var n=U(t),i=U(t)&&qn(t),u=le(t),l=Se(e,i,r),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(n||!n&&!r)&&((te(t)!=="body"||Dt(u))&&(a=Un(t)),U(t)?(s=Se(t,!0),s.x+=t.clientLeft,s.y+=t.clientTop):u&&(s.x=Ct(u))),{x:l.left+a.scrollLeft-s.x,y:l.top+a.scrollTop-s.y,width:l.width,height:l.height}}function zn(e){var t=new Map,r=new Set,n=[];e.forEach(function(u){t.set(u.name,u)});function i(u){r.add(u.name);var l=[].concat(u.requires||[],u.requiresIfExists||[]);l.forEach(function(a){if(!r.has(a)){var s=t.get(a);s&&i(s)}}),n.push(u)}return e.forEach(function(u){r.has(u.name)||i(u)}),n}function Xn(e){var t=zn(e);return an.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function Yn(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Gn(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var It={placement:"bottom",modifiers:[],strategy:"absolute"};function Nt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Jn(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,u=i===void 0?It:i;return function(a,s,f){f===void 0&&(f=u);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},It,u),modifiersData:{},elements:{reference:a,popper:s},attributes:{},styles:{}},m=[],y=!1,h={state:p,setOptions:function(T){var A=typeof T=="function"?T(p.options):T;b(),p.options=Object.assign({},u,p.options,A),p.scrollParents={reference:ge(a)?ke(a):a.contextElement?ke(a.contextElement):[],popper:ke(s)};var D=Xn(Gn([].concat(n,p.options.modifiers)));return p.orderedModifiers=D.filter(function(o){return o.enabled}),x(),h.update()},forceUpdate:function(){if(!y){var T=p.elements,A=T.reference,D=T.popper;if(!!Nt(A,D)){p.rects={reference:Kn(A,_e(D),p.options.strategy==="fixed"),popper:Et(D)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(P){return p.modifiersData[P.name]=Object.assign({},P.data)});for(var o=0;o<p.orderedModifiers.length;o++){if(p.reset===!0){p.reset=!1,o=-1;continue}var O=p.orderedModifiers[o],d=O.fn,E=O.options,L=E===void 0?{}:E,j=O.name;typeof d=="function"&&(p=d({state:p,options:L,name:j,instance:h})||p)}}}},update:Yn(function(){return new Promise(function(w){h.forceUpdate(),w(p)})}),destroy:function(){b(),y=!0}};if(!Nt(a,s))return h;h.setOptions(f).then(function(w){!y&&f.onFirstUpdate&&f.onFirstUpdate(w)});function x(){p.orderedModifiers.forEach(function(w){var T=w.name,A=w.options,D=A===void 0?{}:A,o=w.effect;if(typeof o=="function"){var O=o({state:p,name:T,instance:h,options:D}),d=function(){};m.push(O||d)}})}function b(){m.forEach(function(w){return w()}),m=[]}return h}}var Qn=[On,Nn,bn,lr,kn,Pn,Fn,hn,$n],Zn=Jn({defaultModifiers:Qn}),ei="tippy-box",gr="tippy-content",ti="tippy-backdrop",yr="tippy-arrow",br="tippy-svg-arrow",ve={passive:!0,capture:!0},wr=function(){return document.body};function pt(e,t,r){if(Array.isArray(e)){var n=e[t];return n==null?Array.isArray(r)?r[t]:r:n}return e}function Lt(e,t){var r={}.toString.call(e);return r.indexOf("[object")===0&&r.indexOf(t+"]")>-1}function Or(e,t){return typeof e=="function"?e.apply(void 0,t):e}function Vt(e,t){if(t===0)return e;var r;return function(n){clearTimeout(r),r=setTimeout(function(){e(n)},t)}}function ri(e){return e.split(/\s+/).filter(Boolean)}function Te(e){return[].concat(e)}function Wt(e,t){e.indexOf(t)===-1&&e.push(t)}function ni(e){return e.filter(function(t,r){return e.indexOf(t)===r})}function ii(e){return e.split("-")[0]}function at(e){return[].slice.call(e)}function Ft(e){return Object.keys(e).reduce(function(t,r){return e[r]!==void 0&&(t[r]=e[r]),t},{})}function Ie(){return document.createElement("div")}function ut(e){return["Element","Fragment"].some(function(t){return Lt(e,t)})}function oi(e){return Lt(e,"NodeList")}function ai(e){return Lt(e,"MouseEvent")}function si(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function ui(e){return ut(e)?[e]:oi(e)?at(e):Array.isArray(e)?e:at(document.querySelectorAll(e))}function ft(e,t){e.forEach(function(r){r&&(r.style.transitionDuration=t+"ms")})}function _t(e,t){e.forEach(function(r){r&&r.setAttribute("data-state",t)})}function li(e){var t,r=Te(e),n=r[0];return n!=null&&(t=n.ownerDocument)!=null&&t.body?n.ownerDocument:document}function ci(e,t){var r=t.clientX,n=t.clientY;return e.every(function(i){var u=i.popperRect,l=i.popperState,a=i.props,s=a.interactiveBorder,f=ii(l.placement),p=l.modifiersData.offset;if(!p)return!0;var m=f==="bottom"?p.top.y:0,y=f==="top"?p.bottom.y:0,h=f==="right"?p.left.x:0,x=f==="left"?p.right.x:0,b=u.top-n+m>s,w=n-u.bottom-y>s,T=u.left-r+h>s,A=r-u.right-x>s;return b||w||T||A})}function dt(e,t,r){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[n](i,r)})}function Ut(e,t){for(var r=t;r;){var n;if(e.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var Z={isTouch:!1},qt=0;function pi(){Z.isTouch||(Z.isTouch=!0,window.performance&&document.addEventListener("mousemove",xr))}function xr(){var e=performance.now();e-qt<20&&(Z.isTouch=!1,document.removeEventListener("mousemove",xr)),qt=e}function fi(){var e=document.activeElement;if(si(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function di(){document.addEventListener("touchstart",pi,ve),window.addEventListener("blur",fi)}var vi=typeof window<"u"&&typeof document<"u",hi=vi?!!window.msCrypto:!1,mi={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},gi={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Y=Object.assign({appendTo:wr,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},mi,gi),yi=Object.keys(Y),bi=function(t){var r=Object.keys(t);r.forEach(function(n){Y[n]=t[n]})};function Tr(e){var t=e.plugins||[],r=t.reduce(function(n,i){var u=i.name,l=i.defaultValue;if(u){var a;n[u]=e[u]!==void 0?e[u]:(a=Y[u])!=null?a:l}return n},{});return Object.assign({},e,r)}function wi(e,t){var r=t?Object.keys(Tr(Object.assign({},Y,{plugins:t}))):yi,n=r.reduce(function(i,u){var l=(e.getAttribute("data-tippy-"+u)||"").trim();if(!l)return i;if(u==="content")i[u]=l;else try{i[u]=JSON.parse(l)}catch{i[u]=l}return i},{});return n}function Kt(e,t){var r=Object.assign({},t,{content:Or(t.content,[e])},t.ignoreAttributes?{}:wi(e,t.plugins));return r.aria=Object.assign({},Y.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?t.interactive:r.aria.expanded,content:r.aria.content==="auto"?t.interactive?null:"describedby":r.aria.content},r}var Oi=function(){return"innerHTML"};function yt(e,t){e[Oi()]=t}function zt(e){var t=Ie();return e===!0?t.className=yr:(t.className=br,ut(e)?t.appendChild(e):yt(t,e)),t}function Xt(e,t){ut(t.content)?(yt(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?yt(e,t.content):e.textContent=t.content)}function bt(e){var t=e.firstElementChild,r=at(t.children);return{box:t,content:r.find(function(n){return n.classList.contains(gr)}),arrow:r.find(function(n){return n.classList.contains(yr)||n.classList.contains(br)}),backdrop:r.find(function(n){return n.classList.contains(ti)})}}function Er(e){var t=Ie(),r=Ie();r.className=ei,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=Ie();n.className=gr,n.setAttribute("data-state","hidden"),Xt(n,e.props),t.appendChild(r),r.appendChild(n),i(e.props,e.props);function i(u,l){var a=bt(t),s=a.box,f=a.content,p=a.arrow;l.theme?s.setAttribute("data-theme",l.theme):s.removeAttribute("data-theme"),typeof l.animation=="string"?s.setAttribute("data-animation",l.animation):s.removeAttribute("data-animation"),l.inertia?s.setAttribute("data-inertia",""):s.removeAttribute("data-inertia"),s.style.maxWidth=typeof l.maxWidth=="number"?l.maxWidth+"px":l.maxWidth,l.role?s.setAttribute("role",l.role):s.removeAttribute("role"),(u.content!==l.content||u.allowHTML!==l.allowHTML)&&Xt(f,e.props),l.arrow?p?u.arrow!==l.arrow&&(s.removeChild(p),s.appendChild(zt(l.arrow))):s.appendChild(zt(l.arrow)):p&&s.removeChild(p)}return{popper:t,onUpdate:i}}Er.$$tippy=!0;var xi=1,rt=[],vt=[];function Ti(e,t){var r=Kt(e,Object.assign({},Y,Tr(Ft(t)))),n,i,u,l=!1,a=!1,s=!1,f=!1,p,m,y,h=[],x=Vt(qe,r.interactiveDebounce),b,w=xi++,T=null,A=ni(r.plugins),D={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},o={id:w,reference:e,popper:Ie(),popperInstance:T,props:r,state:D,plugins:A,clearDelayTimeouts:Ge,setProps:Je,setContent:Qe,show:Mr,hide:Pr,hideWithInteractivity:Rr,enable:Re,disable:Ye,unmount:$r,destroy:Hr};if(!r.render)return o;var O=r.render(o),d=O.popper,E=O.onUpdate;d.setAttribute("data-tippy-root",""),d.id="tippy-"+o.id,o.popper=d,e._tippy=o,d._tippy=o;var L=A.map(function(c){return c.fn(o)}),j=e.hasAttribute("aria-expanded");return we(),J(),k(),H("onCreate",[o]),r.showOnCreate&&Pe(),d.addEventListener("mouseenter",function(){o.props.interactive&&o.state.isVisible&&o.clearDelayTimeouts()}),d.addEventListener("mouseleave",function(){o.props.interactive&&o.props.trigger.indexOf("mouseenter")>=0&&W().addEventListener("mousemove",x)}),o;function P(){var c=o.props.touch;return Array.isArray(c)?c:[c,0]}function $(){return P()[0]==="hold"}function R(){var c;return!!((c=o.props.render)!=null&&c.$$tippy)}function M(){return b||e}function W(){var c=M().parentNode;return c?li(c):document}function F(){return bt(d)}function B(c){return o.state.isMounted&&!o.state.isVisible||Z.isTouch||p&&p.type==="focus"?0:pt(o.props.delay,c?0:1,Y.delay)}function k(c){c===void 0&&(c=!1),d.style.pointerEvents=o.props.interactive&&!c?"":"none",d.style.zIndex=""+o.props.zIndex}function H(c,v,g){if(g===void 0&&(g=!0),L.forEach(function(S){S[c]&&S[c].apply(S,v)}),g){var C;(C=o.props)[c].apply(C,v)}}function G(){var c=o.props.aria;if(!!c.content){var v="aria-"+c.content,g=d.id,C=Te(o.props.triggerTarget||e);C.forEach(function(S){var I=S.getAttribute(v);if(o.state.isVisible)S.setAttribute(v,I?I+" "+g:g);else{var _=I&&I.replace(g,"").trim();_?S.setAttribute(v,_):S.removeAttribute(v)}})}}function J(){if(!(j||!o.props.aria.expanded)){var c=Te(o.props.triggerTarget||e);c.forEach(function(v){o.props.interactive?v.setAttribute("aria-expanded",o.state.isVisible&&v===M()?"true":"false"):v.removeAttribute("aria-expanded")})}}function ce(){W().removeEventListener("mousemove",x),rt=rt.filter(function(c){return c!==x})}function Q(c){if(!(Z.isTouch&&(s||c.type==="mousedown"))){var v=c.composedPath&&c.composedPath()[0]||c.target;if(!(o.props.interactive&&Ut(d,v))){if(Te(o.props.triggerTarget||e).some(function(g){return Ut(g,v)})){if(Z.isTouch||o.state.isVisible&&o.props.trigger.indexOf("click")>=0)return}else H("onClickOutside",[o,c]);o.props.hideOnClick===!0&&(o.clearDelayTimeouts(),o.hide(),a=!0,setTimeout(function(){a=!1}),o.state.isMounted||ne())}}}function pe(){s=!0}function re(){s=!1}function X(){var c=W();c.addEventListener("mousedown",Q,!0),c.addEventListener("touchend",Q,ve),c.addEventListener("touchstart",re,ve),c.addEventListener("touchmove",pe,ve)}function ne(){var c=W();c.removeEventListener("mousedown",Q,!0),c.removeEventListener("touchend",Q,ve),c.removeEventListener("touchstart",re,ve),c.removeEventListener("touchmove",pe,ve)}function ye(c,v){be(c,function(){!o.state.isVisible&&d.parentNode&&d.parentNode.contains(d)&&v()})}function ie(c,v){be(c,v)}function be(c,v){var g=F().box;function C(S){S.target===g&&(dt(g,"remove",C),v())}if(c===0)return v();dt(g,"remove",m),dt(g,"add",C),m=C}function se(c,v,g){g===void 0&&(g=!1);var C=Te(o.props.triggerTarget||e);C.forEach(function(S){S.addEventListener(c,v,g),h.push({node:S,eventType:c,handler:v,options:g})})}function we(){$()&&(se("touchstart",Le,{passive:!0}),se("touchend",Ke,{passive:!0})),ri(o.props.trigger).forEach(function(c){if(c!=="manual")switch(se(c,Le),c){case"mouseenter":se("mouseleave",Ke);break;case"focus":se(hi?"focusout":"blur",je);break;case"focusin":se("focusout",je);break}})}function Ue(){h.forEach(function(c){var v=c.node,g=c.eventType,C=c.handler,S=c.options;v.removeEventListener(g,C,S)}),h=[]}function Le(c){var v,g=!1;if(!(!o.state.isEnabled||Me(c)||a)){var C=((v=p)==null?void 0:v.type)==="focus";p=c,b=c.currentTarget,J(),!o.state.isVisible&&ai(c)&&rt.forEach(function(S){return S(c)}),c.type==="click"&&(o.props.trigger.indexOf("mouseenter")<0||l)&&o.props.hideOnClick!==!1&&o.state.isVisible?g=!0:Pe(c),c.type==="click"&&(l=!g),g&&!C&&fe(c)}}function qe(c){var v=c.target,g=M().contains(v)||d.contains(v);if(!(c.type==="mousemove"&&g)){var C=ue().concat(d).map(function(S){var I,_=S._tippy,Oe=(I=_.popperInstance)==null?void 0:I.state;return Oe?{popperRect:S.getBoundingClientRect(),popperState:Oe,props:r}:null}).filter(Boolean);ci(C,c)&&(ce(),fe(c))}}function Ke(c){var v=Me(c)||o.props.trigger.indexOf("click")>=0&&l;if(!v){if(o.props.interactive){o.hideWithInteractivity(c);return}fe(c)}}function je(c){o.props.trigger.indexOf("focusin")<0&&c.target!==M()||o.props.interactive&&c.relatedTarget&&d.contains(c.relatedTarget)||fe(c)}function Me(c){return Z.isTouch?$()!==c.type.indexOf("touch")>=0:!1}function ze(){Xe();var c=o.props,v=c.popperOptions,g=c.placement,C=c.offset,S=c.getReferenceClientRect,I=c.moveTransition,_=R()?bt(d).arrow:null,Oe=S?{getBoundingClientRect:S,contextElement:S.contextElement||M()}:e,jt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ze){var xe=Ze.state;if(R()){var Br=F(),ct=Br.box;["placement","reference-hidden","escaped"].forEach(function(et){et==="placement"?ct.setAttribute("data-placement",xe.placement):xe.attributes.popper["data-popper-"+et]?ct.setAttribute("data-"+et,""):ct.removeAttribute("data-"+et)}),xe.attributes.popper={}}}},de=[{name:"offset",options:{offset:C}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!I}},jt];R()&&_&&de.push({name:"arrow",options:{element:_,padding:3}}),de.push.apply(de,(v==null?void 0:v.modifiers)||[]),o.popperInstance=Zn(Oe,d,Object.assign({},v,{placement:g,onFirstUpdate:y,modifiers:de}))}function Xe(){o.popperInstance&&(o.popperInstance.destroy(),o.popperInstance=null)}function oe(){var c=o.props.appendTo,v,g=M();o.props.interactive&&c===wr||c==="parent"?v=g.parentNode:v=Or(c,[g]),v.contains(d)||v.appendChild(d),o.state.isMounted=!0,ze()}function ue(){return at(d.querySelectorAll("[data-tippy-root]"))}function Pe(c){o.clearDelayTimeouts(),c&&H("onTrigger",[o,c]),X();var v=B(!0),g=P(),C=g[0],S=g[1];Z.isTouch&&C==="hold"&&S&&(v=S),v?n=setTimeout(function(){o.show()},v):o.show()}function fe(c){if(o.clearDelayTimeouts(),H("onUntrigger",[o,c]),!o.state.isVisible){ne();return}if(!(o.props.trigger.indexOf("mouseenter")>=0&&o.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(c.type)>=0&&l)){var v=B(!1);v?i=setTimeout(function(){o.state.isVisible&&o.hide()},v):u=requestAnimationFrame(function(){o.hide()})}}function Re(){o.state.isEnabled=!0}function Ye(){o.hide(),o.state.isEnabled=!1}function Ge(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(u)}function Je(c){if(!o.state.isDestroyed){H("onBeforeUpdate",[o,c]),Ue();var v=o.props,g=Kt(e,Object.assign({},v,Ft(c),{ignoreAttributes:!0}));o.props=g,we(),v.interactiveDebounce!==g.interactiveDebounce&&(ce(),x=Vt(qe,g.interactiveDebounce)),v.triggerTarget&&!g.triggerTarget?Te(v.triggerTarget).forEach(function(C){C.removeAttribute("aria-expanded")}):g.triggerTarget&&e.removeAttribute("aria-expanded"),J(),k(),E&&E(v,g),o.popperInstance&&(ze(),ue().forEach(function(C){requestAnimationFrame(C._tippy.popperInstance.forceUpdate)})),H("onAfterUpdate",[o,c])}}function Qe(c){o.setProps({content:c})}function Mr(){var c=o.state.isVisible,v=o.state.isDestroyed,g=!o.state.isEnabled,C=Z.isTouch&&!o.props.touch,S=pt(o.props.duration,0,Y.duration);if(!(c||v||g||C)&&!M().hasAttribute("disabled")&&(H("onShow",[o],!1),o.props.onShow(o)!==!1)){if(o.state.isVisible=!0,R()&&(d.style.visibility="visible"),k(),X(),o.state.isMounted||(d.style.transition="none"),R()){var I=F(),_=I.box,Oe=I.content;ft([_,Oe],0)}y=function(){var de;if(!(!o.state.isVisible||f)){if(f=!0,d.offsetHeight,d.style.transition=o.props.moveTransition,R()&&o.props.animation){var lt=F(),Ze=lt.box,xe=lt.content;ft([Ze,xe],S),_t([Ze,xe],"visible")}G(),J(),Wt(vt,o),(de=o.popperInstance)==null||de.forceUpdate(),H("onMount",[o]),o.props.animation&&R()&&ie(S,function(){o.state.isShown=!0,H("onShown",[o])})}},oe()}}function Pr(){var c=!o.state.isVisible,v=o.state.isDestroyed,g=!o.state.isEnabled,C=pt(o.props.duration,1,Y.duration);if(!(c||v||g)&&(H("onHide",[o],!1),o.props.onHide(o)!==!1)){if(o.state.isVisible=!1,o.state.isShown=!1,f=!1,l=!1,R()&&(d.style.visibility="hidden"),ce(),ne(),k(!0),R()){var S=F(),I=S.box,_=S.content;o.props.animation&&(ft([I,_],C),_t([I,_],"hidden"))}G(),J(),o.props.animation?R()&&ye(C,o.unmount):o.unmount()}}function Rr(c){W().addEventListener("mousemove",x),Wt(rt,x),x(c)}function $r(){o.state.isVisible&&o.hide(),o.state.isMounted&&(Xe(),ue().forEach(function(c){c._tippy.unmount()}),d.parentNode&&d.parentNode.removeChild(d),vt=vt.filter(function(c){return c!==o}),o.state.isMounted=!1,H("onHidden",[o]))}function Hr(){o.state.isDestroyed||(o.clearDelayTimeouts(),o.unmount(),Ue(),delete e._tippy,o.state.isDestroyed=!0,H("onDestroy",[o]))}}function De(e,t){t===void 0&&(t={});var r=Y.plugins.concat(t.plugins||[]);di();var n=Object.assign({},t,{plugins:r}),i=ui(e),u=i.reduce(function(l,a){var s=a&&Ti(a,n);return s&&l.push(s),l},[]);return ut(e)?u[0]:u}De.defaultProps=Y;De.setDefaultProps=bi;De.currentInput=Z;Object.assign({},lr,{effect:function(t){var r=t.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});De.setDefaultProps({render:Er});var nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ei(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ar=Ei,Ai=typeof nt=="object"&&nt&&nt.Object===Object&&nt,Si=Ai,Ci=Si,Di=typeof self=="object"&&self&&self.Object===Object&&self,Li=Ci||Di||Function("return this")(),Sr=Li,ji=Sr,Mi=function(){return ji.Date.now()},Pi=Mi,Ri=/\s/;function $i(e){for(var t=e.length;t--&&Ri.test(e.charAt(t)););return t}var Hi=$i,Bi=Hi,ki=/^\s+/;function Ii(e){return e&&e.slice(0,Bi(e)+1).replace(ki,"")}var Ni=Ii,Vi=Sr,Wi=Vi.Symbol,Cr=Wi,Yt=Cr,Dr=Object.prototype,Fi=Dr.hasOwnProperty,_i=Dr.toString,He=Yt?Yt.toStringTag:void 0;function Ui(e){var t=Fi.call(e,He),r=e[He];try{e[He]=void 0;var n=!0}catch{}var i=_i.call(e);return n&&(t?e[He]=r:delete e[He]),i}var qi=Ui,Ki=Object.prototype,zi=Ki.toString;function Xi(e){return zi.call(e)}var Yi=Xi,Gt=Cr,Gi=qi,Ji=Yi,Qi="[object Null]",Zi="[object Undefined]",Jt=Gt?Gt.toStringTag:void 0;function eo(e){return e==null?e===void 0?Zi:Qi:Jt&&Jt in Object(e)?Gi(e):Ji(e)}var to=eo;function ro(e){return e!=null&&typeof e=="object"}var no=ro,io=to,oo=no,ao="[object Symbol]";function so(e){return typeof e=="symbol"||oo(e)&&io(e)==ao}var uo=so,lo=Ni,Qt=Ar,co=uo,Zt=0/0,po=/^[-+]0x[0-9a-f]+$/i,fo=/^0b[01]+$/i,vo=/^0o[0-7]+$/i,ho=parseInt;function mo(e){if(typeof e=="number")return e;if(co(e))return Zt;if(Qt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Qt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lo(e);var r=fo.test(e);return r||vo.test(e)?ho(e.slice(2),r?2:8):po.test(e)?Zt:+e}var go=mo,yo=Ar,ht=Pi,er=go,bo="Expected a function",wo=Math.max,Oo=Math.min;function xo(e,t,r){var n,i,u,l,a,s,f=0,p=!1,m=!1,y=!0;if(typeof e!="function")throw new TypeError(bo);t=er(t)||0,yo(r)&&(p=!!r.leading,m="maxWait"in r,u=m?wo(er(r.maxWait)||0,t):u,y="trailing"in r?!!r.trailing:y);function h(d){var E=n,L=i;return n=i=void 0,f=d,l=e.apply(L,E),l}function x(d){return f=d,a=setTimeout(T,t),p?h(d):l}function b(d){var E=d-s,L=d-f,j=t-E;return m?Oo(j,u-L):j}function w(d){var E=d-s,L=d-f;return s===void 0||E>=t||E<0||m&&L>=u}function T(){var d=ht();if(w(d))return A(d);a=setTimeout(T,b(d))}function A(d){return a=void 0,y&&n?h(d):(n=i=void 0,l)}function D(){a!==void 0&&clearTimeout(a),f=0,n=s=i=a=void 0}function o(){return a===void 0?l:A(ht())}function O(){var d=ht(),E=w(d);if(n=arguments,i=this,s=d,E){if(a===void 0)return x(s);if(m)return clearTimeout(a),a=setTimeout(T,t),h(s)}return a===void 0&&(a=setTimeout(T,t)),l}return O.cancel=D,O.flush=o,O}var To=xo;class Eo{constructor({editor:t,element:r,view:n,tippyOptions:i={},updateDelay:u=250,shouldShow:l}){this.preventHide=!1,this.shouldShow=({view:a,state:s,from:f,to:p})=>{const{doc:m,selection:y}=s,{empty:h}=y,x=!m.textBetween(f,p).length&&kr(s.selection),b=this.element.contains(document.activeElement);return!(!(a.hasFocus()||b)||h||x||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var s;if(this.preventHide){this.preventHide=!1;return}(a==null?void 0:a.relatedTarget)&&((s=this.element.parentNode)===null||s===void 0?void 0:s.contains(a.relatedTarget))||this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.updateHandler=(a,s)=>{var f,p,m;const{state:y,composing:h}=a,{doc:x,selection:b}=y,w=s&&s.doc.eq(x)&&s.selection.eq(b);if(h||w)return;this.createTooltip();const{ranges:T}=b,A=Math.min(...T.map(O=>O.$from.pos)),D=Math.max(...T.map(O=>O.$to.pos));if(!((f=this.shouldShow)===null||f===void 0?void 0:f.call(this,{editor:this.editor,view:a,state:y,oldState:s,from:A,to:D}))){this.hide();return}(p=this.tippy)===null||p===void 0||p.setProps({getReferenceClientRect:((m=this.tippyOptions)===null||m===void 0?void 0:m.getReferenceClientRect)||(()=>{if(Ir(y.selection)){const O=a.nodeDOM(A);if(O)return O.getBoundingClientRect()}return or(a,A,D)})}),this.show()},this.editor=t,this.element=r,this.view=n,this.updateDelay=u,l&&(this.shouldShow=l),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,r=!!t.parentElement;this.tippy||!r||(this.tippy=De(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,r){const{state:n}=t;n.selection.$from.pos!==n.selection.$to.pos?this.updateDelay>0?To(this.updateHandler,this.updateDelay)(t,r):this.updateHandler(t,r):this.hide()}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,r;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(r=this.tippy)===null||r===void 0||r.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Lr=e=>new rr({key:typeof e.pluginKey=="string"?new nr(e.pluginKey):e.pluginKey,view:t=>new Eo({view:t,...e})});ir.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Lr({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});class Ao{constructor({editor:t,element:r,view:n,tippyOptions:i={},shouldShow:u}){this.preventHide=!1,this.shouldShow=({view:l,state:a})=>{const{selection:s}=a,{$anchor:f,empty:p}=s,m=f.depth===1,y=f.parent.isTextblock&&!f.parent.type.spec.code&&!f.parent.textContent;return!(!l.hasFocus()||!p||!m||!y||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var a;if(this.preventHide){this.preventHide=!1;return}(l==null?void 0:l.relatedTarget)&&((a=this.element.parentNode)===null||a===void 0?void 0:a.contains(l.relatedTarget))||this.hide()},this.tippyBlurHandler=l=>{this.blurHandler({event:l})},this.editor=t,this.element=r,this.view=n,u&&(this.shouldShow=u),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,r=!!t.parentElement;this.tippy||!r||(this.tippy=De(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,r){var n,i,u;const{state:l}=t,{doc:a,selection:s}=l,{from:f,to:p}=s;if(r&&r.doc.eq(a)&&r.selection.eq(s))return;if(this.createTooltip(),!((n=this.shouldShow)===null||n===void 0?void 0:n.call(this,{editor:this.editor,view:t,state:l,oldState:r}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((u=this.tippyOptions)===null||u===void 0?void 0:u.getReferenceClientRect)||(()=>or(t,f,p))}),this.show()}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,r;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(r=this.tippy)===null||r===void 0||r.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const jr=e=>new rr({key:typeof e.pluginKey=="string"?new nr(e.pluginKey):e.pluginKey,view:t=>new Ao({view:t,...e})});ir.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[jr({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});We({name:"BubbleMenu",props:{pluginKey:{type:null,default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const r=wt(null);return ar(()=>{const{updateDelay:n,editor:i,pluginKey:u,shouldShow:l,tippyOptions:a}=e;i.registerPlugin(Lr({updateDelay:n,editor:i,element:r.value,pluginKey:u,shouldShow:l,tippyOptions:a}))}),Ot(()=>{const{pluginKey:n,editor:i}=e;i.unregisterPlugin(n)}),()=>{var n;return he("div",{ref:r},(n=t.default)===null||n===void 0?void 0:n.call(t))}}});function tr(e){return Fr((t,r)=>({get(){return t(),e},set(n){e=n,requestAnimationFrame(()=>{requestAnimationFrame(()=>{r()})})}}))}class Do extends Nr{constructor(t={}){return super(t),this.vueRenderers=Vr(new Map),this.contentComponent=null,this.reactiveState=tr(this.view.state),this.reactiveExtensionStorage=tr(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),Wr(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,r){super.registerPlugin(t,r),this.reactiveState.value=this.view.state}unregisterPlugin(t){super.unregisterPlugin(t),this.reactiveState.value=this.view.state}}const Lo=We({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=wt(),r=zr();return _r(()=>{const n=e.editor;n&&n.options.element&&t.value&&Ur(()=>{if(!t.value||!n.options.element.firstChild)return;const i=qr(t.value);t.value.append(...n.options.element.childNodes),n.contentComponent=r.ctx._,n.setOptions({element:i}),n.createNodeViews()})}),Ot(()=>{const n=e.editor;if(!n||(n.isDestroyed||n.view.setProps({nodeViews:{}}),n.contentComponent=null,!n.options.element.firstChild))return;const i=document.createElement("div");i.append(...n.options.element.childNodes),n.setOptions({element:i})}),{rootEl:t}},render(){const e=[];return this.editor&&this.editor.vueRenderers.forEach(t=>{const r=he(Kr,{to:t.teleportElement,key:t.id},he(t.component,{ref:t.id,...t.props}));e.push(r)}),he("div",{ref:t=>{this.rootEl=t}},...e)}});We({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const r=wt(null);return ar(()=>{const{pluginKey:n,editor:i,tippyOptions:u,shouldShow:l}=e;i.registerPlugin(jr({pluginKey:n,editor:i,element:r.value,tippyOptions:u,shouldShow:l}))}),Ot(()=>{const{pluginKey:n,editor:i}=e;i.unregisterPlugin(n)}),()=>{var n;return he("div",{ref:r},(n=t.default)===null||n===void 0?void 0:n.call(t))}}});We({props:{as:{type:String,default:"div"}},render(){return he(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}});We({props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var e,t;return he(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}});export{Do as E,Lo as a};
