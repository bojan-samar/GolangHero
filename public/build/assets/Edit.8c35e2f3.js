import{D as B,j as N,u as q,o as d,c as z,w as c,a as e,b as l,g as m,h as i,L as T,s as h,t as g,p as k,Q as L,e as p,i as C,F as j,n as u,f,P as H,x as U}from"./app.2143d770.js";import{_ as E}from"./AdminLayout.7df88aba.js";import{_ as S}from"./PrimaryButton.b4399e01.js";import{_ as w}from"./SecondaryButton.c391ed2b.js";import{_ as y,a as b}from"./TextInput.976f1340.js";import{_}from"./InputLabel.8d189c0a.js";import{E as I,S as D,a as O}from"./tiptap-starter-kit.esm.17eaef14.js";import{_ as J}from"./ActionMessage.a37af8ef.js";import{_ as F}from"./DangerButton.409d2861.js";import"./Banner.45585b35.js";const P={class:"max-w-4xl mx-auto flex justify-between"},K={class:"max-w-4xl mx-auto"},Q={class:"bg-white p-4 shadow rounded-lg mt-5"},R=["onSubmit"],Z={class:"grid md:grid-cols-2 gap-6"},G={class:"grid md:grid-cols-3 gap-6 mt-4"},W={class:"grid md:grid-cols-2 gap-6 mt-4"},X=["value"],Y={class:"mt-4"},ee={key:0,class:"flex items-center mt-4"},te=["disabled"],oe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 cursor-pointer",viewBox:"0 0 512 512"},[e("title",null,"Arrow Undo"),e("path",{d:"M240 424v-96c116.4 0 159.39 33.76 208 96 0-119.23-39.57-240-208-240V88L64 256z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"})],-1),se=[oe],le=["disabled"],ne=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 cursor-pointer",viewBox:"0 0 512 512"},[e("title",null,"Arrow Redo"),e("path",{d:"M448 256L272 88v96C103.57 184 64 304.77 64 424c48.61-62.24 91.6-96 208-96v96z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"})],-1),ie=[ne],ae=["disabled"],re=e("strong",null,"B",-1),de=[re],ce=["disabled"],ue=e("i",null,"I",-1),me=[ue],pe=["disabled"],be=e("s",null,"S",-1),_e=[be],ge=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})],-1),ye=[ge],ve=e("svg",{class:"h-5 w-5",stroke:"currentColor",viewBox:"0 0 18 18"},[e("line",{class:"ql-stroke",x1:"7",x2:"15",y1:"4",y2:"4"}),e("line",{class:"ql-stroke",x1:"7",x2:"15",y1:"9",y2:"9"}),e("line",{class:"ql-stroke",x1:"7",x2:"15",y1:"14",y2:"14"}),e("line",{class:"ql-stroke ql-thin",x1:"2.5",x2:"4.5",y1:"5.5",y2:"5.5"}),e("path",{class:"ql-fill",d:"M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"}),e("path",{class:"ql-stroke ql-thin",d:"M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"}),e("path",{class:"ql-stroke ql-thin",d:"M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"})],-1),fe=[ve],he={class:"mt-3 editable"},we={class:"flex items-center mt-4"},xe={id:"company-section",class:"bg-white p-4 shadow rounded-lg mt-8"},ke={class:"flex items-center justify-between"},Ce={key:0},je=["href"],Se={key:0},Ve=["onSubmit"],$e={class:"mt-4"},Me={class:"mt-5"},Ae=["onSubmit"],Be=e("label",{for:"voice-search",class:"sr-only"},"Search",-1),Ne={class:"relative w-full"},qe=e("div",{class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),ze=e("button",{type:"submit",class:"inline-flex items-center py-2.5 px-3 ml-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[e("svg",{class:"mr-2 -ml-1 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})]),m(" Search ")],-1),Te={key:1,class:"mt-5"},Qe={__name:"Edit",props:{job:Object,jobTypes:Object},setup(v){const a=v,t=B({editor:null,count:0,companies:null,creatingCompany:!1,searchText:"",newCompanyName:null});N(()=>{let r;try{r=JSON.parse(a.job.description)}catch{r=a.job.description}t.editor=new I({extensions:[D],content:r})});const n=q({_method:"PUT",company_slug:null,title:a.job.title,company_name:a.job.company_name,description:a.job.description,location:a.job.location,salary_min:a.job.salary_min,salary_max:a.job.salary_max,job_type:a.job.job_type,status:a.job.status}),V=()=>{n.description=t.editor.getJSON(),n.post(route("admin.job-import.update",a.job.id))},$=()=>{U.Inertia.delete(route("admin.job-import.destroy",a.job.id))},M=()=>{axios.post(route("admin.company.store"),{company_name:t.newCompanyName}).then(r=>{t.creatingCompany=!1,t.newCompanyName=null,n.company_slug=r.data.slug})},A=()=>{axios.get("/admin/company?search="+t.searchText).then(r=>{r.data.data.length?t.companies=r.data.data:t.companies=null})};return(r,o)=>(d(),z(E,{title:"Job Import Edit"},{default:c(()=>[e("section",P,[l(i(T),{href:r.route("admin.job-import.index")},{default:c(()=>[l(w,null,{default:c(()=>[m("Back")]),_:1})]),_:1},8,["href"]),e("div",null,[l(F,{onClick:$},{default:c(()=>[m("Delete")]),_:1})])]),e("section",K,[e("section",Q,[e("form",{onSubmit:h(V,["prevent"]),class:"mt-8"},[e("section",Z,[e("div",null,[l(_,{for:"title",value:"Title"}),l(y,{id:"title",type:"text",class:"mt-1 block w-full",modelValue:i(n).title,"onUpdate:modelValue":o[0]||(o[0]=s=>i(n).title=s),required:"",autofocus:""},null,8,["modelValue"]),l(b,{message:i(n).errors.title,class:"mt-2"},null,8,["message"])])]),e("section",G,[e("div",null,[l(_,{for:"location",value:"Location"}),l(y,{id:"location",type:"text",class:"mt-1 block w-full",modelValue:i(n).location,"onUpdate:modelValue":o[1]||(o[1]=s=>i(n).location=s),autofocus:""},null,8,["modelValue"]),l(b,{message:i(n).errors.location,class:"mt-2"},null,8,["message"])]),e("div",null,[l(_,{for:"salary_min",value:"Salary Min"}),l(y,{id:"salary_min",type:"text",class:"mt-1 block w-full",modelValue:i(n).salary_min,"onUpdate:modelValue":o[2]||(o[2]=s=>i(n).salary_min=s)},null,8,["modelValue"]),l(b,{message:i(n).errors.salary_min,class:"mt-2"},null,8,["message"])]),e("div",null,[l(_,{for:"salary_max",value:"Salary Max"}),l(y,{id:"salary_max",type:"text",class:"mt-1 block w-full",modelValue:i(n).salary_max,"onUpdate:modelValue":o[3]||(o[3]=s=>i(n).salary_max=s)},null,8,["modelValue"]),l(b,{message:i(n).errors.salary_max,class:"mt-2"},null,8,["message"])])]),e("section",W,[e("div",null,[l(_,{for:"type",value:"Job Type",required:!0}),e("div",null,g(v.job.job_type),1),k(e("select",{name:"type",class:"form-input pr-6",style:{"min-width":"150px"},"onUpdate:modelValue":o[4]||(o[4]=s=>i(n).job_type=s)},[(d(!0),p(j,null,C(v.jobTypes,(s,x,Le)=>(d(),p("option",{value:x},g(s),9,X))),256))],512),[[L,i(n).job_type]]),l(b,{message:i(n).errors.job_type,class:"mt-2"},null,8,["message"])])]),e("section",Y,[l(_,{for:"body",value:"Description"}),e("section",null,[t.editor?(d(),p("div",ee,[e("button",{type:"button",class:"prose-button",onClick:o[5]||(o[5]=s=>t.editor.chain().focus().undo().run()),disabled:!t.editor.can().chain().focus().undo().run()},se,8,te),e("button",{type:"button",class:"prose-button mr-3",onClick:o[6]||(o[6]=s=>t.editor.chain().focus().redo().run()),disabled:!t.editor.can().chain().focus().redo().run()},ie,8,le),e("button",{type:"button",class:u(["prose-button",{"prose-is-active":t.editor.isActive("bold")}]),onClick:o[7]||(o[7]=s=>t.editor.chain().focus().toggleBold().run()),disabled:!t.editor.can().chain().focus().toggleBold().run()},de,10,ae),e("button",{type:"button",class:u(["prose-button",{"prose-is-active":t.editor.isActive("italic")}]),onClick:o[8]||(o[8]=s=>t.editor.chain().focus().toggleItalic().run()),disabled:!t.editor.can().chain().focus().toggleItalic().run()},me,10,ce),e("button",{type:"button",class:u(["prose-button mr-3",{"prose-is-active":t.editor.isActive("strike")}]),onClick:o[9]||(o[9]=s=>t.editor.chain().focus().toggleStrike().run()),disabled:!t.editor.can().chain().focus().toggleStrike().run()},_e,10,pe),e("button",{type:"button",class:u(["prose-button",{"prose-is-active":t.editor.isActive("heading",{level:1})}]),onClick:o[10]||(o[10]=s=>t.editor.chain().focus().toggleHeading({level:1}).run())}," H1 ",2),e("button",{type:"button",class:u(["prose-button",{"prose-is-active":t.editor.isActive("heading",{level:2})}]),onClick:o[11]||(o[11]=s=>t.editor.chain().focus().toggleHeading({level:2}).run())}," H2 ",2),e("button",{type:"button",class:u(["prose-button mr-3",{"prose-is-active":t.editor.isActive("heading",{level:3})}]),onClick:o[12]||(o[12]=s=>t.editor.chain().focus().toggleHeading({level:3}).run())}," H3 ",2),e("button",{type:"button",class:u(["prose-button",{"prose-is-active":t.editor.isActive("bulletList")}]),onClick:o[13]||(o[13]=s=>t.editor.chain().focus().toggleBulletList().run())},ye,2),e("button",{type:"button",onClick:o[14]||(o[14]=s=>t.editor.chain().focus().toggleOrderedList().run()),class:u({"prose-is-active":t.editor.isActive("orderedList")})},fe,2)])):f("",!0),e("div",he,[l(i(O),{editor:t.editor},null,8,["editor"])])]),l(b,{message:i(n).errors.description,class:"mt-2"},null,8,["message"])]),e("section",we,[l(S,{class:u({"opacity-25":i(n).processing}),disabled:i(n).processing},{default:c(()=>[m(" Save ")]),_:1},8,["class","disabled"]),l(J,{on:i(n).recentlySuccessful,class:"ml-3"},{default:c(()=>[m(" Saved. ")]),_:1},8,["on"])])],40,R)]),e("section",xe,[e("div",ke,[e("div",null,[e("div",null," Import Company: "+g(v.job.company_name),1),i(n).company_slug?(d(),p("div",Ce," Company Selected: "+g(i(n).company_slug),1)):f("",!0)]),e("div",null,[e("a",{target:"_blank",href:r.route("admin.company.create",{name:i(n).company_name})},[l(w,null,{default:c(()=>[m("Create Company")]),_:1})],8,je)])]),t.creatingCompany?(d(),p("div",Se,[e("form",{onSubmit:h(M,["prevent"]),class:"mt-8"},[e("section",null,[l(_,{for:"New-Company",value:"Company Name"}),l(y,{id:"New-Company",type:"text",class:"mt-1 block w-full",modelValue:t.newCompanyName,"onUpdate:modelValue":o[15]||(o[15]=s=>t.newCompanyName=s)},null,8,["modelValue"]),l(b,{message:i(n).errors.title,class:"mt-2"},null,8,["message"])]),e("section",$e,[l(S,null,{default:c(()=>[m(" Save ")]),_:1})])],40,Ve)])):f("",!0),e("div",Me,[e("form",{onSubmit:h(A,["prevent"]),id:"company-search",class:"flex items-center mt-8",autocomplete:"off"},[Be,e("div",Ne,[qe,k(e("input",{"onUpdate:modelValue":o[16]||(o[16]=s=>t.searchText=s),type:"text",id:"voice-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search ..."},null,512),[[H,t.searchText]])]),ze],40,Ae)]),t.companies?(d(),p("div",Te,[(d(!0),p(j,null,C(t.companies,s=>(d(),p("div",null,[m(g(s.name)+" ",1),l(w,{onClick:x=>i(n).company_slug=s.slug},{default:c(()=>[m("Select")]),_:2},1032,["onClick"])]))),256))])):f("",!0)])])]),_:1}))}};export{Qe as default};
