import{D as P,j as U,u as H,d as x,o as v,c as C,w as d,a as e,b as l,g as u,h as n,L as N,s as _,e as y,n as c,f as V,p as k,v as A,R as j,A as E,F as S,x as $}from"./app.96f5cf8f.js";import{_ as R}from"./AdminLayout.fe3dd8ff.js";import{_ as D}from"./PrimaryButton.a0126f6e.js";import{_ as w}from"./SecondaryButton.ba4132fc.js";import{_ as h}from"./TextInput.7b333491.js";import{_ as p}from"./InputError.3fce0a44.js";import{_ as f}from"./InputLabel.0d952771.js";import{E as F,S as O,a as T}from"./tiptap-starter-kit.esm.bd7c1434.js";import{_ as J}from"./ActionMessage.ea7b7d4c.js";import{_ as K}from"./DangerButton.4278dc44.js";import"./Banner.55d8c00a.js";const Z={class:"max-w-4xl mx-auto flex justify-between"},G={class:"max-w-4xl mx-auto"},Q={class:"bg-white p-4 shadow rounded-lg mt-5"},W=["onSubmit"],X={class:"grid md:grid-cols-2 gap-6"},Y={class:"grid md:grid-cols-2 gap-6 mt-4"},ee={class:"grid md:grid-cols-2 gap-6 mt-4"},te={class:"mt-4"},oe={key:0,class:"flex items-center mt-4"},se=["disabled"],le=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 cursor-pointer",viewBox:"0 0 512 512"},[e("title",null,"Arrow Undo"),e("path",{d:"M240 424v-96c116.4 0 159.39 33.76 208 96 0-119.23-39.57-240-208-240V88L64 256z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"})],-1),ne=[le],ie=["disabled"],re=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 cursor-pointer",viewBox:"0 0 512 512"},[e("title",null,"Arrow Redo"),e("path",{d:"M448 256L272 88v96C103.57 184 64 304.77 64 424c48.61-62.24 91.6-96 208-96v96z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"})],-1),ae=[re],ce=["disabled"],de=e("strong",null,"B",-1),ue=[de],me=["disabled"],pe=e("i",null,"I",-1),fe=[pe],ge=["disabled"],ve=e("s",null,"S",-1),he=[ve],be=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})],-1),_e=[be],ye=e("svg",{class:"h-5 w-5",stroke:"currentColor",viewBox:"0 0 18 18"},[e("line",{class:"ql-stroke",x1:"7",x2:"15",y1:"4",y2:"4"}),e("line",{class:"ql-stroke",x1:"7",x2:"15",y1:"9",y2:"9"}),e("line",{class:"ql-stroke",x1:"7",x2:"15",y1:"14",y2:"14"}),e("line",{class:"ql-stroke ql-thin",x1:"2.5",x2:"4.5",y1:"5.5",y2:"5.5"}),e("path",{class:"ql-fill",d:"M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"}),e("path",{class:"ql-stroke ql-thin",d:"M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"}),e("path",{class:"ql-stroke ql-thin",d:"M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"})],-1),ke=[ye],we={class:"editable mt-3"},xe={class:"col-span-6 sm:col-span-4 mt-4"},Ce={class:"mt-2"},Ve=["src","alt"],Ae={class:"mt-2"},Se={class:"mt-6"},$e={for:"default-toggle",class:"switch toggle-input inline-flex relative items-center cursor-pointer"},Be=e("span",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all duration-300 dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),qe={class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},Me={class:"flex items-center mt-4"},Fe={__name:"Edit",props:{company:Object},setup(b){const r=b,o=P({editor:null});U(()=>{let a;try{a=JSON.parse(r.company.description)}catch{a=r.company.description}o.editor=new F({extensions:[O],content:a})});const s=H({_method:"PUT",name:r.company.name,slug:r.company.slug,url:r.company.url,location:r.company.location,description:r.company.description,twitter:r.company.twitter,photo:null,status:!!r.company.status}),g=x(null),m=x(null),B=()=>{m.value.click()},q=()=>{const a=m.value.files[0];if(!a)return;const t=new FileReader;t.onload=i=>{g.value=i.target.result},t.readAsDataURL(a)},M=()=>{var a;(a=m.value)!=null&&a.value&&(m.value.value=null)},L=()=>{$.Inertia.delete(route("admin.company-photo.destroy",r.company.id),{preserveScroll:!0,onSuccess:()=>{g.value=null,M()}})},z=()=>{m.value&&(s.photo=m.value.files[0]),s.description=o.editor.getJSON(),s.post(route("admin.company.update",r.company.id))},I=()=>{$.Inertia.delete(route("admin.company.destroy",r.company.id))};return(a,t)=>(v(),C(R,{title:"Job Import Edit"},{default:d(()=>[e("section",Z,[l(n(N),{href:a.route("admin.company.index")},{default:d(()=>[l(w,null,{default:d(()=>[u("Back")]),_:1})]),_:1},8,["href"]),e("div",null,[l(K,{onClick:I},{default:d(()=>[u("Delete")]),_:1})])]),e("section",G,[e("section",Q,[e("form",{onSubmit:_(z,["prevent"]),class:"mt-8"},[e("section",X,[e("div",null,[l(f,{for:"name",value:"Title"}),l(h,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:n(s).name,"onUpdate:modelValue":t[0]||(t[0]=i=>n(s).name=i),required:"",autofocus:""},null,8,["modelValue"]),l(p,{message:n(s).errors.name,class:"mt-2"},null,8,["message"])]),e("div",null,[l(f,{for:"slug",value:"Slug"}),l(h,{id:"slug",type:"text",class:"mt-1 block w-full",modelValue:n(s).slug,"onUpdate:modelValue":t[1]||(t[1]=i=>n(s).slug=i),required:""},null,8,["modelValue"]),l(p,{message:n(s).errors.slug,class:"mt-2"},null,8,["message"])])]),e("section",Y,[e("div",null,[l(f,{for:"url",value:"URL"}),l(h,{id:"url",type:"text",class:"mt-1 block w-full",modelValue:n(s).url,"onUpdate:modelValue":t[2]||(t[2]=i=>n(s).url=i)},null,8,["modelValue"]),l(p,{message:n(s).errors.url,class:"mt-2"},null,8,["message"])]),e("div",null,[l(f,{for:"location",value:"Location"}),l(h,{id:"location",type:"text",class:"mt-1 block w-full",modelValue:n(s).location,"onUpdate:modelValue":t[3]||(t[3]=i=>n(s).location=i)},null,8,["modelValue"]),l(p,{message:n(s).errors.location,class:"mt-2"},null,8,["message"])])]),e("section",ee,[e("div",null,[l(f,{for:"twitter",value:"Twitter"}),l(h,{id:"twitter",type:"text",class:"mt-1 block w-full",modelValue:n(s).twitter,"onUpdate:modelValue":t[4]||(t[4]=i=>n(s).twitter=i)},null,8,["modelValue"]),l(p,{message:n(s).errors.twitter,class:"mt-2"},null,8,["message"])])]),e("section",te,[l(f,{for:"body",value:"Description"}),e("section",null,[o.editor?(v(),y("div",oe,[e("button",{type:"button",class:"prose-button",onClick:t[5]||(t[5]=i=>o.editor.chain().focus().undo().run()),disabled:!o.editor.can().chain().focus().undo().run()},ne,8,se),e("button",{type:"button",class:"prose-button mr-3",onClick:t[6]||(t[6]=i=>o.editor.chain().focus().redo().run()),disabled:!o.editor.can().chain().focus().redo().run()},ae,8,ie),e("button",{type:"button",class:c(["prose-button",{"prose-is-active":o.editor.isActive("bold")}]),onClick:t[7]||(t[7]=i=>o.editor.chain().focus().toggleBold().run()),disabled:!o.editor.can().chain().focus().toggleBold().run()},ue,10,ce),e("button",{type:"button",class:c(["prose-button",{"prose-is-active":o.editor.isActive("italic")}]),onClick:t[8]||(t[8]=i=>o.editor.chain().focus().toggleItalic().run()),disabled:!o.editor.can().chain().focus().toggleItalic().run()},fe,10,me),e("button",{type:"button",class:c(["prose-button mr-3",{"prose-is-active":o.editor.isActive("strike")}]),onClick:t[9]||(t[9]=i=>o.editor.chain().focus().toggleStrike().run()),disabled:!o.editor.can().chain().focus().toggleStrike().run()},he,10,ge),e("button",{type:"button",class:c(["prose-button",{"prose-is-active":o.editor.isActive("heading",{level:1})}]),onClick:t[10]||(t[10]=i=>o.editor.chain().focus().toggleHeading({level:1}).run())}," H1 ",2),e("button",{type:"button",class:c(["prose-button",{"prose-is-active":o.editor.isActive("heading",{level:2})}]),onClick:t[11]||(t[11]=i=>o.editor.chain().focus().toggleHeading({level:2}).run())}," H2 ",2),e("button",{type:"button",class:c(["prose-button mr-3",{"prose-is-active":o.editor.isActive("heading",{level:3})}]),onClick:t[12]||(t[12]=i=>o.editor.chain().focus().toggleHeading({level:3}).run())}," H3 ",2),e("button",{type:"button",class:c(["prose-button",{"prose-is-active":o.editor.isActive("bulletList")}]),onClick:t[13]||(t[13]=i=>o.editor.chain().focus().toggleBulletList().run())},_e,2),e("button",{type:"button",onClick:t[14]||(t[14]=i=>o.editor.chain().focus().toggleOrderedList().run()),class:c({"prose-is-active":o.editor.isActive("orderedList")})},ke,2)])):V("",!0),e("div",we,[l(n(T),{editor:o.editor},null,8,["editor"])])]),l(p,{message:n(s).errors.description,class:"mt-2"},null,8,["message"])]),e("section",xe,[e("input",{ref_key:"photoInput",ref:m,type:"file",class:"hidden",onChange:q},null,544),l(f,{for:"photo",value:"Photo"}),k(e("div",Ce,[e("img",{src:b.company.photo_url,alt:b.company.name,class:"rounded-full h-20 w-20 object-cover"},null,8,Ve)],512),[[A,!g.value]]),k(e("div",Ae,[e("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:j("background-image: url('"+g.value+"');")},null,4)],512),[[A,g.value]]),l(w,{class:"mt-2 mr-2",type:"button",onClick:_(B,["prevent"])},{default:d(()=>[u(" Select A New Photo ")]),_:1},8,["onClick"]),b.company.photo?(v(),C(w,{key:0,type:"button",class:"mt-2",onClick:_(L,["prevent"])},{default:d(()=>[u(" Remove Photo ")]),_:1},8,["onClick"])):V("",!0),l(p,{message:n(s).errors.photo,class:"mt-2"},null,8,["message"])]),e("section",Se,[e("label",$e,[k(e("input",{type:"checkbox",value:"",id:"default-toggle",class:"sr-only peer","onUpdate:modelValue":t[15]||(t[15]=i=>n(s).status=i)},null,512),[[E,n(s).status]]),Be,e("span",qe,[n(s).status?(v(),y(S,{key:0},[u("Active")],64)):(v(),y(S,{key:1},[u("Inactive")],64))])])]),e("section",Me,[l(D,{class:c({"opacity-25":n(s).processing}),disabled:n(s).processing},{default:d(()=>[u(" Save ")]),_:1},8,["class","disabled"]),l(J,{on:n(s).recentlySuccessful,class:"ml-3"},{default:d(()=>[u(" Saved. ")]),_:1},8,["on"])])],40,W)])])]),_:1}))}};export{Fe as default};
